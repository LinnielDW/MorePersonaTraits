<?xml version="1.0" encoding="utf-8"?>
<Defs>
    <WeaponTraitDef>
        <defName>MPT_OnHitThoughtSelfUp</defName>
        <label>stoneward</label>
        <description>This weapon has taken an immortal vow to be there when they are needed most. They will try to guide their wielder to also uphold this vow, especially when life is at its hardest. Upon hitting a target, there is a chance that the wielder will gain a small mood increase, stacking multiple times.</description>
        <commonality>0.5</commonality>
        <marketValueOffset>400</marketValueOffset>
        <descriptionHyperlinks>
            <ThoughtDef>MPT_OnHitThoughtSelfGood</ThoughtDef>
        </descriptionHyperlinks>
        <exclusionTags>
            <li>NeverBond</li>
            <li>Radiant</li>
        </exclusionTags>
        <modExtensions>
            <li Class="MorePersonaTraits.Extensions.WeaponTraitOnHitExtension">
                <OnHitWorkers>
                    <li Class="MorePersonaTraits.WorkerClasses.OnHitWorkerClasses.OnHitWorker_ApplyThought">
                        <ThoughtDef>MPT_OnHitThoughtSelfGood</ThoughtDef>
                        <ProcChance>0.8</ProcChance>
                        <TargetSelf>true</TargetSelf>
                    </li>
                </OnHitWorkers>
            </li>
        </modExtensions>
    </WeaponTraitDef>

    <ThoughtDef>
        <defName>MPT_OnHitThoughtSelfGood</defName>
        <showBubble>true</showBubble>
        <durationDays>1</durationDays>
        <stackLimit>16</stackLimit>
        <stackedEffectMultiplier>0.5</stackedEffectMultiplier>
        <descriptionHyperlinks>
            <WeaponTraitDef>MPT_OnHitThoughtSelfUp</WeaponTraitDef>
        </descriptionHyperlinks>
        <stages>
            <li>
                <label>psychic stalwart</label>
                <description>My bonded weapon's words echo inside my head, pushing me forward, despite my own interests.</description>
                <baseMoodEffect>5</baseMoodEffect>
            </li>
        </stages>
    </ThoughtDef>
</Defs>